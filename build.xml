<project basedir=".">
    <taskdef resource="net/sf/antcontrib/antlib.xml"/>
    <description>Use to setup extensions.</description>

    <property file="build.properties" />

    <!-- TODO: Add check that browser is set -->
    <property name="browser" value="${browser}" />
    <property name="build.dir" value="_build" />

    <echo>Using browser: ${browser}</echo>

    <target name="init">
    </target>

    <target name="build">
        <!-- Copy resources -->

        <switch value="${browser}">
            <case value="chrome">
                <echo message="Chrome pathway." />
                <property name="working.dir" value="${build.dir}/LibrarySearch.chrome" />
                <mkdir dir="${working.dir}" />
                <copy todir="${working.dir}">
                    <fileset dir="LibrarySearch.chrome" />
                </copy>
                <copy file="common/resources/LibrarySearchIcon-16.png" todir="${working.dir}"/>
                <copy file="common/resources/LibrarySearchIcon-24.png" todir="${working.dir}"/>
                <copy file="common/resources/LibrarySearchIcon-48.png" todir="${working.dir}"/>

            </case>
        </switch> 

    </target>

    <target name="clean">
        <delete dir="${build.dir}" />
    </target>

</project>
